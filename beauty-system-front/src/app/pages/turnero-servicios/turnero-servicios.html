<section class="services-container">

  <!-- HEADER -->
  <div class="services-header">
    <h1>Gesti√≥n de Servicios</h1>
    <button class="btn-primary" (click)="toggleForm()">
      + Nuevo Servicio
    </button>
  </div>

  <!-- FORMULARIO -->
  <form
    *ngIf="showForm"
    class="service-form"
    (ngSubmit)="addService()"
  >
    <div class="form-group">
      <label>Nombre del servicio</label>
      <input
        type="text"
        [(ngModel)]="newService.name"
        name="name"
        required
      />
    </div>

    <div class="form-group">
      <label>Duraci√≥n (horas)</label>
      <input
        type="number"
        min="1"
        [(ngModel)]="newService.duration"
        name="duration"
        required
      />
    </div>

    <div class="form-group">
      <label>M√°quina</label>
      <select
        [(ngModel)]="newService.machine"
        name="machine"
      >
        <option value="">Sin m√°quina</option>
        <option *ngFor="let machine of machines">
          {{ machine }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label>Estado</label>
      <select
        [(ngModel)]="newService.status"
        name="status"
      >
        <option value="Pendiente">Pendiente</option>
        <option value="Confirmado">Confirmado</option>
        <option value="Completo">Completo</option>
      </select>
    </div>

    <div class="form-group">
      <label>Fecha desde</label>
      <input
        type="date"
        [(ngModel)]="newService.startDate"
        name="startDate"
        required
      />
    </div>

    <div class="form-group">
      <label>Fecha hasta</label>
      <input
        type="date"
        [(ngModel)]="newService.endDate"
        name="endDate"
        required
      />
    </div>

    <button class="btn-success" type="submit">
      Guardar servicio
    </button>
  </form>

  <!-- LISTADO -->
  <table class="services-table">
    <thead>
      <tr>
        <th>Servicio</th>
        <th>Duraci√≥n</th>
        <th>M√°quina</th>
        <th>Estado</th>
        <th>Desde</th>
        <th>Hasta</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let service of services">
        <td>{{ service.name }}</td>
        <td>{{ service.duration }} hs</td>
        <td>{{ service.machine || '-' }}</td>
        <td>
          <span class="status" [ngClass]="service.status">
            {{ service.status }}
          </span>
        </td>
        <td>{{ service.startDate }}</td>
        <td>{{ service.endDate }}</td>
        <td>
          <button class="btn-icon" (click)="deleteService(service.id)">
            üóëÔ∏è
          </button>
        </td>
      </tr>
    </tbody>
  </table>

</section>
